sudo nano /etc/hosts

127.0.0.1    eval.local



    @PostMapping("/uploadcsv")
    public String uploadCsvFilesUpload(
            @RequestParam("file1") MultipartFile file1,
            @RequestParam("file2") MultipartFile file2,
            @RequestParam("file3") MultipartFile file3,
            RedirectAttributes redirectAttributes) {

        File tempFile1 = null, tempFile2 = null, tempFile3 = null;
        try {
            // Convertir MultipartFile en fichiers temporaires
            tempFile1 = _databaseService.convertToFile(file1);
            tempFile2 = _databaseService.convertToFile(file2);
            tempFile3 = _databaseService.convertToFile(file3);

            // Upload via service
            _databaseService.uploadCsv(tempFile1);
            _databaseService.uploadCsv(tempFile2);
            _databaseService.uploadCsv(tempFile3);

            redirectAttributes.addFlashAttribute("success", "CSV uploaded successfully!");
        } catch (Exception e) {
            redirectAttributes.addFlashAttribute("error", "Upload failed: " + e.getMessage());
        } finally {
            // Nettoyer fichiers temporaires mÃªme en cas d'erreur
            if (tempFile1 != null && tempFile1.exists())
                tempFile1.delete();
            if (tempFile2 != null && tempFile2.exists())
                tempFile2.delete();
            if (tempFile3 != null && tempFile3.exists())
                tempFile3.delete();
        }

        return "redirect:/database";
    }
